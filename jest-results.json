{"numFailedTestSuites":5,"numFailedTests":9,"numPassedTestSuites":27,"numPassedTests":570,"numPendingTestSuites":0,"numPendingTests":10,"numRuntimeErrorTestSuites":3,"numTodoTests":0,"numTotalTestSuites":32,"numTotalTests":589,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1772229499300,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Error Handler Middleware","AppError Class"],"duration":91,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware AppError Class should create operational error correctly","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create operational error correctly"},{"ancestorTitles":["Error Handler Middleware","AppError Class"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware AppError Class should create server error correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create server error correctly"},{"ancestorTitles":["Error Handler Middleware","Global Error Handler"],"duration":128,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"TEST_ERROR\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507339_0q5oza00q\",\u001b[39m\n\u001b[2m    \"message\": \"Test error\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"TEST_ERROR\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507339_0q5oza00q\",\u001b[39m\n\u001b[2m    \"message\": \"Test error\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\errorHandler.test.js:64:24)\n    at Promise.then.completed (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Error Handler Middleware Global Error Handler should handle operational errors in production","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle operational errors in production"},{"ancestorTitles":["Error Handler Middleware","Global Error Handler"],"duration":8,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"INTERNAL_SERVER_ERROR\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507697_i63v9iiid\",\u001b[39m\n\u001b[2m    \"message\": \"Something went wrong!\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"INTERNAL_SERVER_ERROR\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507697_i63v9iiid\",\u001b[39m\n\u001b[2m    \"message\": \"Something went wrong!\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\errorHandler.test.js:79:24)\n    at Promise.then.completed (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Error Handler Middleware Global Error Handler should handle non-operational errors in production","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle non-operational errors in production"},{"ancestorTitles":["Error Handler Middleware","Global Error Handler"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Global Error Handler should provide detailed errors in development","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should provide detailed errors in development"},{"ancestorTitles":["Error Handler Middleware","Global Error Handler"],"duration":142,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"INVALID_ID\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507710_g3t7gcqyl\",\u001b[39m\n\u001b[2m    \"message\": \"Invalid id: invalid-id\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"INVALID_ID\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507710_g3t7gcqyl\",\u001b[39m\n\u001b[2m    \"message\": \"Invalid id: invalid-id\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\errorHandler.test.js:112:24)\n    at Promise.then.completed (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Error Handler Middleware Global Error Handler should handle MongoDB CastError","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle MongoDB CastError"},{"ancestorTitles":["Error Handler Middleware","Global Error Handler"],"duration":5,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"DUPLICATE_FIELD\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507855_03k7vxa4e\",\u001b[39m\n\u001b[2m    \"message\": \"email 'test@example.com' already exists. Please use another value.\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"DUPLICATE_FIELD\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507855_03k7vxa4e\",\u001b[39m\n\u001b[2m    \"message\": \"email 'test@example.com' already exists. Please use another value.\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\errorHandler.test.js:128:24)\n    at Promise.then.completed (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Error Handler Middleware Global Error Handler should handle MongoDB duplicate key error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle MongoDB duplicate key error"},{"ancestorTitles":["Error Handler Middleware","Global Error Handler"],"duration":5,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"INVALID_TOKEN\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507861_0jsei4143\",\u001b[39m\n\u001b[2m    \"message\": \"Invalid token. Please log in again.\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"INVALID_TOKEN\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507861_0jsei4143\",\u001b[39m\n\u001b[2m    \"message\": \"Invalid token. Please log in again.\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\errorHandler.test.js:143:24)\n    at Promise.then.completed (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Error Handler Middleware Global Error Handler should handle JWT errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle JWT errors"},{"ancestorTitles":["Error Handler Middleware","Global Error Handler"],"duration":8,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"TOKEN_EXPIRED\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507870_3mzpp1dqy\",\u001b[39m\n\u001b[2m    \"message\": \"Your token has expired. Please log in again.\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"TOKEN_EXPIRED\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507870_3mzpp1dqy\",\u001b[39m\n\u001b[2m    \"message\": \"Your token has expired. Please log in again.\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\errorHandler.test.js:158:24)\n    at Promise.then.completed (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Error Handler Middleware Global Error Handler should handle JWT expired errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle JWT expired errors"},{"ancestorTitles":["Error Handler Middleware","Global Error Handler"],"duration":4,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"FILE_TOO_LARGE\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507878_vjhqs04vv\",\u001b[39m\n\u001b[2m    \"message\": \"File too large. Maximum size is 5MB.\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"code\": \"FILE_TOO_LARGE\",\u001b[22m\n\u001b[31m+   \"errorId\": \"ERR_1772229507878_vjhqs04vv\",\u001b[39m\n\u001b[2m    \"message\": \"File too large. Maximum size is 5MB.\",\u001b[22m\n\u001b[2m    \"success\": false,\u001b[22m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\errorHandler.test.js:174:24)\n    at Promise.then.completed (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"Error Handler Middleware Global Error Handler should handle Multer file size errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle Multer file size errors"},{"ancestorTitles":["Error Handler Middleware","Not Found Handler"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Not Found Handler should create 404 error for unhandled routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create 404 error for unhandled routes"},{"ancestorTitles":["Error Handler Middleware","Catch Async"],"duration":111,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Catch Async should catch async errors and pass to next","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should catch async errors and pass to next"},{"ancestorTitles":["Error Handler Middleware","Catch Async"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Catch Async should not interfere with successful async operations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not interfere with successful async operations"},{"ancestorTitles":["Error Handler Middleware","Validation Error Handler"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Validation Error Handler should handle validation errors correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle validation errors correctly"},{"ancestorTitles":["Error Handler Middleware","Validation Error Handler"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Validation Error Handler should continue if no validation errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should continue if no validation errors"},{"ancestorTitles":["Error Handler Middleware","Rate Limit Error Handler"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Rate Limit Error Handler should handle rate limit errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle rate limit errors"},{"ancestorTitles":["Error Handler Middleware","CORS Error Handler"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware CORS Error Handler should handle CORS errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle CORS errors"},{"ancestorTitles":["Error Handler Middleware","CORS Error Handler"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware CORS Error Handler should pass non-CORS errors to next handler","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should pass non-CORS errors to next handler"},{"ancestorTitles":["Error Handler Middleware","Database Error Handler"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Database Error Handler should handle MongoDB network errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle MongoDB network errors"},{"ancestorTitles":["Error Handler Middleware","Database Error Handler"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Database Error Handler should handle MongoDB timeout errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle MongoDB timeout errors"},{"ancestorTitles":["Error Handler Middleware","Database Error Handler"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware Database Error Handler should pass non-database errors to next handler","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should pass non-database errors to next handler"}],"endTime":1772229508493,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mError Handler Middleware › Global Error Handler › should handle operational errors in production\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"code\": \"TEST_ERROR\",\u001b[22m\n    \u001b[31m+   \"errorId\": \"ERR_1772229507339_0q5oza00q\",\u001b[39m\n    \u001b[2m    \"message\": \"Test error\",\u001b[22m\n    \u001b[2m    \"success\": false,\u001b[22m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 62 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 63 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 64 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 65 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 66 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Test error'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 67 |\u001b[39m         code\u001b[33m:\u001b[39m \u001b[32m'TEST_ERROR'\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/middleware/__tests__/errorHandler.test.js\u001b[39m\u001b[0m\u001b[2m:64:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mError Handler Middleware › Global Error Handler › should handle non-operational errors in production\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"code\": \"INTERNAL_SERVER_ERROR\",\u001b[22m\n    \u001b[31m+   \"errorId\": \"ERR_1772229507697_i63v9iiid\",\u001b[39m\n    \u001b[2m    \"message\": \"Something went wrong!\",\u001b[22m\n    \u001b[2m    \"success\": false,\u001b[22m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 77 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 79 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 80 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 81 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Something went wrong!'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 82 |\u001b[39m         code\u001b[33m:\u001b[39m \u001b[32m'INTERNAL_SERVER_ERROR'\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/middleware/__tests__/errorHandler.test.js\u001b[39m\u001b[0m\u001b[2m:79:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mError Handler Middleware › Global Error Handler › should handle MongoDB CastError\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"code\": \"INVALID_ID\",\u001b[22m\n    \u001b[31m+   \"errorId\": \"ERR_1772229507710_g3t7gcqyl\",\u001b[39m\n    \u001b[2m    \"message\": \"Invalid id: invalid-id\",\u001b[22m\n    \u001b[2m    \"success\": false,\u001b[22m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 110 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 111 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 112 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 114 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Invalid id: invalid-id'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 115 |\u001b[39m         code\u001b[33m:\u001b[39m \u001b[32m'INVALID_ID'\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/middleware/__tests__/errorHandler.test.js\u001b[39m\u001b[0m\u001b[2m:112:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mError Handler Middleware › Global Error Handler › should handle MongoDB duplicate key error\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"code\": \"DUPLICATE_FIELD\",\u001b[22m\n    \u001b[31m+   \"errorId\": \"ERR_1772229507855_03k7vxa4e\",\u001b[39m\n    \u001b[2m    \"message\": \"email 'test@example.com' already exists. Please use another value.\",\u001b[22m\n    \u001b[2m    \"success\": false,\u001b[22m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 126 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 128 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 129 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 130 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m\"email 'test@example.com' already exists. Please use another value.\"\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 131 |\u001b[39m         code\u001b[33m:\u001b[39m \u001b[32m'DUPLICATE_FIELD'\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/middleware/__tests__/errorHandler.test.js\u001b[39m\u001b[0m\u001b[2m:128:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mError Handler Middleware › Global Error Handler › should handle JWT errors\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"code\": \"INVALID_TOKEN\",\u001b[22m\n    \u001b[31m+   \"errorId\": \"ERR_1772229507861_0jsei4143\",\u001b[39m\n    \u001b[2m    \"message\": \"Invalid token. Please log in again.\",\u001b[22m\n    \u001b[2m    \"success\": false,\u001b[22m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 141 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 142 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 143 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 144 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 145 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Invalid token. Please log in again.'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 146 |\u001b[39m         code\u001b[33m:\u001b[39m \u001b[32m'INVALID_TOKEN'\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/middleware/__tests__/errorHandler.test.js\u001b[39m\u001b[0m\u001b[2m:143:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mError Handler Middleware › Global Error Handler › should handle JWT expired errors\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"code\": \"TOKEN_EXPIRED\",\u001b[22m\n    \u001b[31m+   \"errorId\": \"ERR_1772229507870_3mzpp1dqy\",\u001b[39m\n    \u001b[2m    \"message\": \"Your token has expired. Please log in again.\",\u001b[22m\n    \u001b[2m    \"success\": false,\u001b[22m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 156 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 157 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 158 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 159 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 160 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Your token has expired. Please log in again.'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 161 |\u001b[39m         code\u001b[33m:\u001b[39m \u001b[32m'TOKEN_EXPIRED'\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/middleware/__tests__/errorHandler.test.js\u001b[39m\u001b[0m\u001b[2m:158:24)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mError Handler Middleware › Global Error Handler › should handle Multer file size errors\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"code\": \"FILE_TOO_LARGE\",\u001b[22m\n    \u001b[31m+   \"errorId\": \"ERR_1772229507878_vjhqs04vv\",\u001b[39m\n    \u001b[2m    \"message\": \"File too large. Maximum size is 5MB.\",\u001b[22m\n    \u001b[2m    \"success\": false,\u001b[22m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 172 |\u001b[39m       \u001b[22m\n\u001b[2m     \u001b[90m 173 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 174 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 175 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 176 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'File too large. Maximum size is 5MB.'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 177 |\u001b[39m         code\u001b[33m:\u001b[39m \u001b[32m'FILE_TOO_LARGE'\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/middleware/__tests__/errorHandler.test.js\u001b[39m\u001b[0m\u001b[2m:174:24)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\errorHandler.test.js","startTime":1772229501200,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["SystemAdminService - School Performance Analytics","Property 2: School performance analytics accuracy"],"duration":64,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Property 2: School performance analytics accuracy should maintain mathematical accuracy in school comparisons","invocations":1,"location":null,"numPassingAsserts":57,"retryReasons":[],"status":"passed","title":"should maintain mathematical accuracy in school comparisons"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Property 2: School performance analytics accuracy"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Property 2: School performance analytics accuracy should handle edge cases in performance analytics","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should handle edge cases in performance analytics"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Property 2: School performance analytics accuracy"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Property 2: School performance analytics accuracy should maintain consistency across different time ranges","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should maintain consistency across different time ranges"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Property 2: School performance analytics accuracy"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Property 2: School performance analytics accuracy should ensure platform metrics aggregation accuracy","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should ensure platform metrics aggregation accuracy"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Property 2: School performance analytics accuracy"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Property 2: School performance analytics accuracy should handle concurrent school modifications in analytics","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should handle concurrent school modifications in analytics"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Property 2: School performance analytics accuracy"],"duration":32,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"Upgraded to premium tier\"\u001b[39m, \u001b[32m\"system_admin_123\"\u001b[39m, \u001b[32m\"configuration\"\u001b[39m\nReceived: \u001b[2m\"Upgraded to premium tier\"\u001b[22m, \u001b[2m\"system_admin_123\"\u001b[22m, \u001b[31m\"technical\"\u001b[39m\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"Upgraded to premium tier\"\u001b[39m, \u001b[32m\"system_admin_123\"\u001b[39m, \u001b[32m\"configuration\"\u001b[39m\nReceived: \u001b[2m\"Upgraded to premium tier\"\u001b[22m, \u001b[2m\"system_admin_123\"\u001b[22m, \u001b[31m\"technical\"\u001b[39m\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\services\\__tests__\\systemAdminService.test.js:439:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"SystemAdminService - School Performance Analytics Property 2: School performance analytics accuracy should validate school management operations maintain data integrity","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should validate school management operations maintain data integrity"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Cross-School User Management Analytics"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Cross-School User Management Analytics should maintain user statistics accuracy across schools","invocations":1,"location":null,"numPassingAsserts":17,"retryReasons":[],"status":"passed","title":"should maintain user statistics accuracy across schools"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Cross-School User Management Analytics"],"duration":36,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mObjectContaining {\"category\": \"user_management\", \"operation\": \"Activate user\", \"operationType\": \"admin_action\", \"severity\": \"high\", \"targetUserId\": \"69a2138db2c35a57a171b5aa\", \"userId\": \"system_admin_123\", \"userRole\": \"system_admin\"}\u001b[39m\nReceived: \u001b[31m{\"category\": \"user_management\", \"changes\": {\"after\": {\"isActive\": true}, \"before\": {\"isActive\": false}}, \"metadata\": {\"ip\": \"127.0.0.1\", \"reason\": \"Account review completed\", \"systemAdminEmail\": \"system_admin_123\", \"userAgent\": \"System Admin Dashboard\"}, \"operation\": \"Activate user\", \"operationType\": \"admin_action\", \"requestDetails\": {\"body\": {\"action\": \"activate\", \"newRole\": undefined, \"reason\": \"Account review completed\"}, \"method\": \"PUT\", \"path\": \"/api/system-admin/users/69a2138db2c35a57a171b5aa/access\"}, \"resourceId\": \"69a2138db2c35a57a171b5aa\", \"resourceType\": \"user\", \"severity\": \"high\", \"targetSchoolId\": \"SCH001\", \"targetUserId\": \"69a2138db2c35a57a171b5aa\", \"userEmail\": \"system_admin_123\", \"userId\": \"69a2138db2c35a57a171b5ab\", \"userRole\": \"system_admin\"}\u001b[39m\n\nNumber of calls: \u001b[31m1\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mObjectContaining {\"category\": \"user_management\", \"operation\": \"Activate user\", \"operationType\": \"admin_action\", \"severity\": \"high\", \"targetUserId\": \"69a2138db2c35a57a171b5aa\", \"userId\": \"system_admin_123\", \"userRole\": \"system_admin\"}\u001b[39m\nReceived: \u001b[31m{\"category\": \"user_management\", \"changes\": {\"after\": {\"isActive\": true}, \"before\": {\"isActive\": false}}, \"metadata\": {\"ip\": \"127.0.0.1\", \"reason\": \"Account review completed\", \"systemAdminEmail\": \"system_admin_123\", \"userAgent\": \"System Admin Dashboard\"}, \"operation\": \"Activate user\", \"operationType\": \"admin_action\", \"requestDetails\": {\"body\": {\"action\": \"activate\", \"newRole\": undefined, \"reason\": \"Account review completed\"}, \"method\": \"PUT\", \"path\": \"/api/system-admin/users/69a2138db2c35a57a171b5aa/access\"}, \"resourceId\": \"69a2138db2c35a57a171b5aa\", \"resourceType\": \"user\", \"severity\": \"high\", \"targetSchoolId\": \"SCH001\", \"targetUserId\": \"69a2138db2c35a57a171b5aa\", \"userEmail\": \"system_admin_123\", \"userId\": \"69a2138db2c35a57a171b5ab\", \"userRole\": \"system_admin\"}\u001b[39m\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\services\\__tests__\\systemAdminService.test.js:567:47)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"SystemAdminService - School Performance Analytics Cross-School User Management Analytics should handle user access management operations correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should handle user access management operations correctly"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Error Handling and Edge Cases"],"duration":53,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Error Handling and Edge Cases should handle service errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle service errors gracefully"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Error Handling and Edge Cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Error Handling and Edge Cases should handle invalid school IDs in comparisons","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle invalid school IDs in comparisons"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Error Handling and Edge Cases"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Error Handling and Edge Cases should handle empty results gracefully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle empty results gracefully"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Caching and Performance"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Caching and Performance should use cached platform overview when available","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use cached platform overview when available"},{"ancestorTitles":["SystemAdminService - School Performance Analytics","Caching and Performance"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminService - School Performance Analytics Caching and Performance should cache platform overview when not cached","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should cache platform overview when not cached"}],"endTime":1772229517653,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSystemAdminService - School Performance Analytics › Property 2: School performance analytics accuracy › should validate school management operations maintain data integrity\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m\"Upgraded to premium tier\"\u001b[39m, \u001b[32m\"system_admin_123\"\u001b[39m, \u001b[32m\"configuration\"\u001b[39m\n    Received: \u001b[2m\"Upgraded to premium tier\"\u001b[22m, \u001b[2m\"system_admin_123\"\u001b[22m, \u001b[31m\"technical\"\u001b[39m\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 437 |\u001b[39m         \u001b[32m'system_admin_123'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 438 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 439 |\u001b[39m       expect(mockSchool\u001b[33m.\u001b[39maddSystemNote)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 440 |\u001b[39m         \u001b[32m'Upgraded to premium tier'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 441 |\u001b[39m         \u001b[32m'system_admin_123'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 442 |\u001b[39m         \u001b[32m'configuration'\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/services/__tests__/systemAdminService.test.js\u001b[39m\u001b[0m\u001b[2m:439:40)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSystemAdminService - School Performance Analytics › Cross-School User Management Analytics › should handle user access management operations correctly\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32mObjectContaining {\"category\": \"user_management\", \"operation\": \"Activate user\", \"operationType\": \"admin_action\", \"severity\": \"high\", \"targetUserId\": \"69a2138db2c35a57a171b5aa\", \"userId\": \"system_admin_123\", \"userRole\": \"system_admin\"}\u001b[39m\n    Received: \u001b[31m{\"category\": \"user_management\", \"changes\": {\"after\": {\"isActive\": true}, \"before\": {\"isActive\": false}}, \"metadata\": {\"ip\": \"127.0.0.1\", \"reason\": \"Account review completed\", \"systemAdminEmail\": \"system_admin_123\", \"userAgent\": \"System Admin Dashboard\"}, \"operation\": \"Activate user\", \"operationType\": \"admin_action\", \"requestDetails\": {\"body\": {\"action\": \"activate\", \"newRole\": undefined, \"reason\": \"Account review completed\"}, \"method\": \"PUT\", \"path\": \"/api/system-admin/users/69a2138db2c35a57a171b5aa/access\"}, \"resourceId\": \"69a2138db2c35a57a171b5aa\", \"resourceType\": \"user\", \"severity\": \"high\", \"targetSchoolId\": \"SCH001\", \"targetUserId\": \"69a2138db2c35a57a171b5aa\", \"userEmail\": \"system_admin_123\", \"userId\": \"69a2138db2c35a57a171b5ab\", \"userRole\": \"system_admin\"}\u001b[39m\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 565 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 566 |\u001b[39m       \u001b[90m// Verify audit logging\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 567 |\u001b[39m       expect(\u001b[33mPlatformAuditLog\u001b[39m\u001b[33m.\u001b[39mcreateAuditLog)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 568 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\u001b[22m\n\u001b[2m     \u001b[90m 569 |\u001b[39m           operation\u001b[33m:\u001b[39m \u001b[32m'Activate user'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 570 |\u001b[39m           operationType\u001b[33m:\u001b[39m \u001b[32m'admin_action'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/services/__tests__/systemAdminService.test.js\u001b[39m\u001b[0m\u001b[2m:567:47)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\services\\__tests__\\systemAdminService.test.js","startTime":1772229500806,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["CrossSchoolAggregator Service","Property 1: Platform dashboard completeness"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Property 1: Platform dashboard completeness should always return complete dashboard metrics structure","invocations":1,"location":null,"numPassingAsserts":21,"retryReasons":[],"status":"passed","title":"should always return complete dashboard metrics structure"},{"ancestorTitles":["CrossSchoolAggregator Service","Property 1: Platform dashboard completeness"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Property 1: Platform dashboard completeness should handle empty school list gracefully","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should handle empty school list gracefully"},{"ancestorTitles":["CrossSchoolAggregator Service","Property 1: Platform dashboard completeness"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Property 1: Platform dashboard completeness should maintain data consistency across different metric types","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should maintain data consistency across different metric types"},{"ancestorTitles":["CrossSchoolAggregator Service","Property 1: Platform dashboard completeness"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Property 1: Platform dashboard completeness should include all required fields for platform KPIs","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"should include all required fields for platform KPIs"},{"ancestorTitles":["CrossSchoolAggregator Service","Property 2: School performance analytics accuracy"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Property 2: School performance analytics accuracy should maintain mathematical consistency in school comparisons","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"should maintain mathematical consistency in school comparisons"},{"ancestorTitles":["CrossSchoolAggregator Service","Property 2: School performance analytics accuracy"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Property 2: School performance analytics accuracy should handle edge cases in performance calculations","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle edge cases in performance calculations"},{"ancestorTitles":["CrossSchoolAggregator Service","Property 2: School performance analytics accuracy"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Property 2: School performance analytics accuracy should maintain trend analysis mathematical accuracy","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should maintain trend analysis mathematical accuracy"},{"ancestorTitles":["CrossSchoolAggregator Service","Property 2: School performance analytics accuracy"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Property 2: School performance analytics accuracy should ensure aggregation totals are mathematically consistent","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should ensure aggregation totals are mathematically consistent"},{"ancestorTitles":["CrossSchoolAggregator Service","Error Handling and Edge Cases"],"duration":174,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Error Handling and Edge Cases should handle invalid metric types","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle invalid metric types"},{"ancestorTitles":["CrossSchoolAggregator Service","Error Handling and Edge Cases"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Error Handling and Edge Cases should handle empty school IDs array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle empty school IDs array"},{"ancestorTitles":["CrossSchoolAggregator Service","Caching Behavior"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Caching Behavior should use cache when available","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should use cache when available"},{"ancestorTitles":["CrossSchoolAggregator Service","Caching Behavior"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CrossSchoolAggregator Service Caching Behavior should cache results when not in cache","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should cache results when not in cache"}],"endTime":1772229518659,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\services\\__tests__\\crossSchoolAggregator.test.js","startTime":1772229508597,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["School Authentication Controller","POST /register - School Registration"],"duration":364,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /register - School Registration should register school successfully","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should register school successfully"},{"ancestorTitles":["School Authentication Controller","POST /register - School Registration"],"duration":77,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /register - School Registration should reject registration with existing email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject registration with existing email"},{"ancestorTitles":["School Authentication Controller","POST /register - School Registration"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /register - School Registration should handle email sending failure gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle email sending failure gracefully"},{"ancestorTitles":["School Authentication Controller","POST /register - School Registration"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /register - School Registration should handle database errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should handle database errors"},{"ancestorTitles":["School Authentication Controller","POST /verify-email - Email Verification"],"duration":61,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /verify-email - Email Verification should verify email successfully","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should verify email successfully"},{"ancestorTitles":["School Authentication Controller","POST /verify-email - Email Verification"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /verify-email - Email Verification should reject invalid OTP","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject invalid OTP"},{"ancestorTitles":["School Authentication Controller","POST /verify-email - Email Verification"],"duration":58,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /verify-email - Email Verification should reject verification for non-existent school","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject verification for non-existent school"},{"ancestorTitles":["School Authentication Controller","POST /verify-email - Email Verification"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /verify-email - Email Verification should reject verification for already verified school","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject verification for already verified school"},{"ancestorTitles":["School Authentication Controller","POST /login - School Admin Login"],"duration":108,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /login - School Admin Login should login successfully","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should login successfully"},{"ancestorTitles":["School Authentication Controller","POST /login - School Admin Login"],"duration":103,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /login - School Admin Login should reject login with invalid credentials","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject login with invalid credentials"},{"ancestorTitles":["School Authentication Controller","POST /login - School Admin Login"],"duration":67,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /login - School Admin Login should reject login for unverified school","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject login for unverified school"},{"ancestorTitles":["School Authentication Controller","POST /login - School Admin Login"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /login - School Admin Login should reject login for inactive school","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject login for inactive school"},{"ancestorTitles":["School Authentication Controller","POST /login - School Admin Login"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /login - School Admin Login should reject login with wrong password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject login with wrong password"},{"ancestorTitles":["School Authentication Controller","POST /refresh-token - Token Refresh"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /refresh-token - Token Refresh should refresh token successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should refresh token successfully"},{"ancestorTitles":["School Authentication Controller","POST /refresh-token - Token Refresh"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /refresh-token - Token Refresh should reject invalid refresh token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject invalid refresh token"},{"ancestorTitles":["School Authentication Controller","POST /refresh-token - Token Refresh"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /refresh-token - Token Refresh should reject refresh token without token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject refresh token without token"},{"ancestorTitles":["School Authentication Controller","POST /logout - Logout"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /logout - Logout should logout successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should logout successfully"},{"ancestorTitles":["School Authentication Controller","POST /forgot-password - Forgot Password"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /forgot-password - Forgot Password should send password reset email successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should send password reset email successfully"},{"ancestorTitles":["School Authentication Controller","POST /forgot-password - Forgot Password"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /forgot-password - Forgot Password should not reveal if school does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not reveal if school does not exist"},{"ancestorTitles":["School Authentication Controller","POST /forgot-password - Forgot Password"],"duration":32,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /forgot-password - Forgot Password should reject unverified school","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject unverified school"},{"ancestorTitles":["School Authentication Controller","POST /forgot-password - Forgot Password"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /forgot-password - Forgot Password should handle email sending failure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should handle email sending failure"},{"ancestorTitles":["School Authentication Controller","POST /reset-password - Reset Password"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /reset-password - Reset Password should reset password successfully","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should reset password successfully"},{"ancestorTitles":["School Authentication Controller","POST /reset-password - Reset Password"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /reset-password - Reset Password should reject invalid reset token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject invalid reset token"},{"ancestorTitles":["School Authentication Controller","POST /reset-password - Reset Password"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /reset-password - Reset Password should reject expired reset token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject expired reset token"},{"ancestorTitles":["School Authentication Controller","POST /resend-otp - Resend OTP"],"duration":34,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /resend-otp - Resend OTP should resend OTP successfully","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should resend OTP successfully"},{"ancestorTitles":["School Authentication Controller","POST /resend-otp - Resend OTP"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /resend-otp - Resend OTP should reject resend for verified school","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject resend for verified school"},{"ancestorTitles":["School Authentication Controller","POST /resend-otp - Resend OTP"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"School Authentication Controller POST /resend-otp - Resend OTP should handle email sending failure","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle email sending failure"},{"ancestorTitles":["createParentInvitation"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"createParentInvitation should create parent invitation successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should create parent invitation successfully"},{"ancestorTitles":["createParentInvitation"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"createParentInvitation should fail when no students provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should fail when no students provided"},{"ancestorTitles":["createParentInvitation"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"createParentInvitation should fail when school not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should fail when school not found"},{"ancestorTitles":["createParentInvitation"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"createParentInvitation should fail when students not found or invalid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should fail when students not found or invalid"},{"ancestorTitles":["createParentInvitation"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"createParentInvitation should fail when admin user not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should fail when admin user not found"},{"ancestorTitles":["createParentInvitation"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"createParentInvitation should fail when invitation already exists","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should fail when invitation already exists"},{"ancestorTitles":["createParentInvitation"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"createParentInvitation should handle validation errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should handle validation errors"},{"ancestorTitles":["createParentInvitation"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"createParentInvitation should handle database errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should handle database errors gracefully"}],"endTime":1772229522353,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\controllers\\__tests__\\schoolAuthController.test.js","startTime":1772229501064,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["Teacher Dashboard Routes","GET /dashboard"],"duration":105,"failureDetails":[],"failureMessages":[],"fullName":"Teacher Dashboard Routes GET /dashboard should call getTeacherDashboard controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getTeacherDashboard controller"},{"ancestorTitles":["Teacher Dashboard Routes","GET /students"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Teacher Dashboard Routes GET /students should call getMyStudents controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getMyStudents controller"},{"ancestorTitles":["Teacher Dashboard Routes","GET /students"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"Teacher Dashboard Routes GET /students should accept query parameters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should accept query parameters"},{"ancestorTitles":["Teacher Dashboard Routes","Authentication and Authorization"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Teacher Dashboard Routes Authentication and Authorization should require authentication for all routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for all routes"},{"ancestorTitles":["Teacher Dashboard Routes","Authentication and Authorization"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Teacher Dashboard Routes Authentication and Authorization should require teacher role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require teacher role"}],"endTime":1772229522481,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\teacherDashboard.test.js","startTime":1772229518737,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["EmailService","Initialization"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Initialization should initialize with required environment variables","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initialize with required environment variables"},{"ancestorTitles":["EmailService","Initialization"],"duration":114,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Initialization should throw error without RESEND_API_KEY","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error without RESEND_API_KEY"},{"ancestorTitles":["EmailService","Initialization"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Initialization should use default values for optional config","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use default values for optional config"},{"ancestorTitles":["EmailService","Core Email Sending"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Core Email Sending should send email successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should send email successfully"},{"ancestorTitles":["EmailService","Core Email Sending"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Core Email Sending should handle email sending failure","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle email sending failure"},{"ancestorTitles":["EmailService","Core Email Sending"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Core Email Sending should validate required fields","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["EmailService","Core Email Sending"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Core Email Sending should handle multiple recipients","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle multiple recipients"},{"ancestorTitles":["EmailService","Core Email Sending"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Core Email Sending should include optional fields when provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include optional fields when provided"},{"ancestorTitles":["EmailService","Retry Logic"],"duration":2108,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Retry Logic should retry on retryable errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should retry on retryable errors"},{"ancestorTitles":["EmailService","Retry Logic"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Retry Logic should not retry on non-retryable errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not retry on non-retryable errors"},{"ancestorTitles":["EmailService","Retry Logic"],"duration":3263,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Retry Logic should stop retrying after max attempts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should stop retrying after max attempts"},{"ancestorTitles":["EmailService","Template Rendering"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Template Rendering should render built-in template","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should render built-in template"},{"ancestorTitles":["EmailService","Template Rendering"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Template Rendering should replace variables in template","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should replace variables in template"},{"ancestorTitles":["EmailService","Template Rendering"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Template Rendering should handle missing variables gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing variables gracefully"},{"ancestorTitles":["EmailService","Template Rendering"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Template Rendering should include default variables","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include default variables"},{"ancestorTitles":["EmailService","Specialized Email Methods"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Specialized Email Methods should send OTP email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should send OTP email"},{"ancestorTitles":["EmailService","Specialized Email Methods"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Specialized Email Methods should send school welcome email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should send school welcome email"},{"ancestorTitles":["EmailService","Specialized Email Methods"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Specialized Email Methods should send invitation email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should send invitation email"},{"ancestorTitles":["EmailService","Specialized Email Methods"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Specialized Email Methods should send password reset email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should send password reset email"},{"ancestorTitles":["EmailService","Bulk Email Sending"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Bulk Email Sending should send bulk emails in batches","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should send bulk emails in batches"},{"ancestorTitles":["EmailService","Bulk Email Sending"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Bulk Email Sending should handle bulk email failures","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle bulk email failures"},{"ancestorTitles":["EmailService","Templated Email"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Templated Email should send templated email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should send templated email"},{"ancestorTitles":["EmailService","Service Management"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Service Management should return statistics","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should return statistics"},{"ancestorTitles":["EmailService","Service Management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Service Management should clear template cache","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clear template cache"},{"ancestorTitles":["EmailService","Service Management"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Service Management should perform health check","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should perform health check"},{"ancestorTitles":["EmailService","Error Handling"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Error Handling should handle template rendering errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle template rendering errors gracefully"},{"ancestorTitles":["EmailService","Error Handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"EmailService Error Handling should handle Resend API errors gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Resend API errors gracefully"}],"endTime":1772229524011,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\config\\__tests__\\email.test.js","startTime":1772229517849,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["School Auth Routes","POST /register"],"duration":175,"failureDetails":[],"failureMessages":[],"fullName":"School Auth Routes POST /register should call registerSchool controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call registerSchool controller"},{"ancestorTitles":["School Auth Routes","POST /login"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"School Auth Routes POST /login should call loginSchoolAdmin controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call loginSchoolAdmin controller"},{"ancestorTitles":["School Auth Routes","POST /logout"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"School Auth Routes POST /logout should call logout controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call logout controller"}],"endTime":1772229524508,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\schoolAuth.test.js","startTime":1772229522471,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Grade Model","Schema Validation"],"duration":120,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should create a valid grade with all required fields","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should create a valid grade with all required fields"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should fail without required schoolId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should fail without required schoolId"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should fail without required teacherId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should fail without required teacherId"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should fail without required studentId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should fail without required studentId"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should fail without required subject","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should fail without required subject"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should fail without required class","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should fail without required class"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should use default term when not provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use default term when not provided"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should use default academicYear when not provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use default academicYear when not provided"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should fail without required createdBy","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fail without required createdBy"},{"ancestorTitles":["Grade Model","Schema Validation"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Schema Validation should create grade with minimum required fields","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create grade with minimum required fields"},{"ancestorTitles":["Grade Model","Assessment Validation"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Assessment Validation should validate assessment score is not greater than maxScore","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate assessment score is not greater than maxScore"},{"ancestorTitles":["Grade Model","Assessment Validation"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Assessment Validation should validate assessment score is not negative","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate assessment score is not negative"},{"ancestorTitles":["Grade Model","Assessment Validation"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Assessment Validation should validate maxScore is positive","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate maxScore is positive"},{"ancestorTitles":["Grade Model","Assessment Validation"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Assessment Validation should require assessment type","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require assessment type"},{"ancestorTitles":["Grade Model","Assessment Validation"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Assessment Validation should require assessment title","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require assessment title"},{"ancestorTitles":["Grade Model","Assessment Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Assessment Validation should validate assessment type enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate assessment type enum"},{"ancestorTitles":["Grade Model","Term Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Term Validation should validate term enum values","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate term enum values"},{"ancestorTitles":["Grade Model","Term Validation"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Term Validation should accept valid term values","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should accept valid term values"},{"ancestorTitles":["Grade Model","Letter Grade Validation"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Letter Grade Validation should validate letter grade enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate letter grade enum"},{"ancestorTitles":["Grade Model","Letter Grade Validation"],"duration":90,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Letter Grade Validation should accept valid letter grades","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should accept valid letter grades"},{"ancestorTitles":["Grade Model","Total Score Validation"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Total Score Validation should validate totalScore is not negative","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate totalScore is not negative"},{"ancestorTitles":["Grade Model","Total Score Validation"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Total Score Validation should accept valid totalScore values","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should accept valid totalScore values"},{"ancestorTitles":["Grade Model","Instance Methods","calculateLetterGrade"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods calculateLetterGrade should calculate correct letter grades for different score ranges","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should calculate correct letter grades for different score ranges"},{"ancestorTitles":["Grade Model","Instance Methods","calculateLetterGrade"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods calculateLetterGrade should handle edge cases","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle edge cases"},{"ancestorTitles":["Grade Model","Instance Methods","calculateGradePoints"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods calculateGradePoints should calculate correct grade points for letter grades","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should calculate correct grade points for letter grades"},{"ancestorTitles":["Grade Model","Instance Methods","calculateGradePoints"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods calculateGradePoints should return 0 for invalid grade","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return 0 for invalid grade"},{"ancestorTitles":["Grade Model","Instance Methods","addAssessment"],"duration":47,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods addAssessment should add assessment to grade","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should add assessment to grade"},{"ancestorTitles":["Grade Model","Instance Methods","updateAssessment"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods updateAssessment should update existing assessment","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should update existing assessment"},{"ancestorTitles":["Grade Model","Instance Methods","updateAssessment"],"duration":113,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods updateAssessment should throw error for non-existent assessment","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-existent assessment"},{"ancestorTitles":["Grade Model","Instance Methods","removeAssessment"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods removeAssessment should remove assessment from grade","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove assessment from grade"},{"ancestorTitles":["Grade Model","Instance Methods","publish"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods publish should publish grade","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should publish grade"},{"ancestorTitles":["Grade Model","Instance Methods","unpublish"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Instance Methods unpublish should unpublish grade","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should unpublish grade"},{"ancestorTitles":["Grade Model","Pre-save Middleware"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Pre-save Middleware should automatically calculate totals and grades before saving","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should automatically calculate totals and grades before saving"},{"ancestorTitles":["Grade Model","Virtual Properties"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Virtual Properties should generate displayName virtual","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate displayName virtual"},{"ancestorTitles":["Grade Model","Virtual Properties"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Virtual Properties should generate statusDisplay virtual","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual"},{"ancestorTitles":["Grade Model","Virtual Properties"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Virtual Properties should have proper timestamps","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have proper timestamps"},{"ancestorTitles":["Grade Model","JSON Transformation"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model JSON Transformation should exclude __v from JSON output","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should exclude __v from JSON output"},{"ancestorTitles":["Grade Model","Static Methods","findByTeacherAndClass"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Static Methods findByTeacherAndClass should build correct query for teacher and class","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should build correct query for teacher and class"},{"ancestorTitles":["Grade Model","Static Methods","findByStudent"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Grade Model Static Methods findByStudent should build correct query for student","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should build correct query for student"}],"endTime":1772229525912,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\models\\__tests__\\Grade.test.js","startTime":1772229523104,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["User Model","Schema Validation"],"duration":105,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should create a valid admin user","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create a valid admin user"},{"ancestorTitles":["User Model","Schema Validation"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should create a valid teacher user","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create a valid teacher user"},{"ancestorTitles":["User Model","Schema Validation"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should create a valid parent user","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create a valid parent user"},{"ancestorTitles":["User Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should require schoolId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require schoolId"},{"ancestorTitles":["User Model","Schema Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should require email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require email"},{"ancestorTitles":["User Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should require password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require password"},{"ancestorTitles":["User Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should require firstName","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require firstName"},{"ancestorTitles":["User Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should require lastName","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require lastName"},{"ancestorTitles":["User Model","Schema Validation"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should require role","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require role"},{"ancestorTitles":["User Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should validate role enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate role enum"},{"ancestorTitles":["User Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should validate email format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["User Model","Schema Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should validate phone format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate phone format"},{"ancestorTitles":["User Model","Schema Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should validate password length","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate password length"},{"ancestorTitles":["User Model","Schema Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Model Schema Validation should validate firstName length","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate firstName length"},{"ancestorTitles":["User Model","Role-Specific Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Role-Specific Validation should require subjects for teachers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require subjects for teachers"},{"ancestorTitles":["User Model","Role-Specific Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Role-Specific Validation should not allow subjects for non-teachers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not allow subjects for non-teachers"},{"ancestorTitles":["User Model","Role-Specific Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Role-Specific Validation should not allow classes for non-teachers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not allow classes for non-teachers"},{"ancestorTitles":["User Model","Role-Specific Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Role-Specific Validation should not allow children for non-parents","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not allow children for non-parents"},{"ancestorTitles":["User Model","Role-Specific Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"User Model Role-Specific Validation should validate employeeId format for teachers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate employeeId format for teachers"},{"ancestorTitles":["User Model","Password Hashing"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Password Hashing should have password hashing functionality","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have password hashing functionality"},{"ancestorTitles":["User Model","Password Hashing"],"duration":52,"failureDetails":[],"failureMessages":[],"fullName":"User Model Password Hashing comparePassword should work with bcrypt","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"comparePassword should work with bcrypt"},{"ancestorTitles":["User Model","Instance Methods","comparePassword"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods comparePassword should compare password correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should compare password correctly"},{"ancestorTitles":["User Model","Instance Methods","comparePassword"],"duration":80,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods comparePassword should throw error if password not available","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if password not available"},{"ancestorTitles":["User Model","Instance Methods","generateInvitationToken"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods generateInvitationToken should generate invitation token with default expiration","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should generate invitation token with default expiration"},{"ancestorTitles":["User Model","Instance Methods","generateInvitationToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods generateInvitationToken should generate invitation token with custom expiration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate invitation token with custom expiration"},{"ancestorTitles":["User Model","Instance Methods","verifyInvitationToken"],"duration":91,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods verifyInvitationToken should verify correct invitation token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should verify correct invitation token"},{"ancestorTitles":["User Model","Instance Methods","verifyInvitationToken"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods verifyInvitationToken should reject incorrect invitation token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject incorrect invitation token"},{"ancestorTitles":["User Model","Instance Methods","verifyInvitationToken"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods verifyInvitationToken should reject expired invitation token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject expired invitation token"},{"ancestorTitles":["User Model","Instance Methods","verifyInvitationToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods verifyInvitationToken should return false if no invitation token set","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false if no invitation token set"},{"ancestorTitles":["User Model","Instance Methods","acceptInvitation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods acceptInvitation should accept invitation and clear token data","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should accept invitation and clear token data"},{"ancestorTitles":["User Model","Instance Methods","generatePasswordResetToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods generatePasswordResetToken should generate password reset token","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate password reset token"},{"ancestorTitles":["User Model","Instance Methods","verifyPasswordResetToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods verifyPasswordResetToken should verify correct reset token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should verify correct reset token"},{"ancestorTitles":["User Model","Instance Methods","verifyPasswordResetToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods verifyPasswordResetToken should reject incorrect reset token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject incorrect reset token"},{"ancestorTitles":["User Model","Instance Methods","verifyPasswordResetToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods verifyPasswordResetToken should reject expired reset token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject expired reset token"},{"ancestorTitles":["User Model","Instance Methods","resetPassword"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods resetPassword should reset password and clear reset data","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reset password and clear reset data"},{"ancestorTitles":["User Model","Instance Methods","updateLastLogin"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods updateLastLogin should update last login timestamp","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update last login timestamp"},{"ancestorTitles":["User Model","Instance Methods","setActiveStatus"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods setActiveStatus should set active status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should set active status"},{"ancestorTitles":["User Model","Instance Methods","addChild (Parent-specific)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods addChild (Parent-specific) should add child to parent","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add child to parent"},{"ancestorTitles":["User Model","Instance Methods","addChild (Parent-specific)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods addChild (Parent-specific) should not add duplicate child","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not add duplicate child"},{"ancestorTitles":["User Model","Instance Methods","addChild (Parent-specific)"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods addChild (Parent-specific) should throw error for non-parent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-parent"},{"ancestorTitles":["User Model","Instance Methods","removeChild (Parent-specific)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods removeChild (Parent-specific) should remove child from parent","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should remove child from parent"},{"ancestorTitles":["User Model","Instance Methods","removeChild (Parent-specific)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods removeChild (Parent-specific) should throw error for non-parent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-parent"},{"ancestorTitles":["User Model","Instance Methods","addClass (Teacher-specific)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods addClass (Teacher-specific) should add class to teacher","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add class to teacher"},{"ancestorTitles":["User Model","Instance Methods","addClass (Teacher-specific)"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods addClass (Teacher-specific) should not add duplicate class","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not add duplicate class"},{"ancestorTitles":["User Model","Instance Methods","addClass (Teacher-specific)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods addClass (Teacher-specific) should throw error for non-teacher","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-teacher"},{"ancestorTitles":["User Model","Instance Methods","removeClass (Teacher-specific)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods removeClass (Teacher-specific) should remove class from teacher","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should remove class from teacher"},{"ancestorTitles":["User Model","Instance Methods","removeClass (Teacher-specific)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"User Model Instance Methods removeClass (Teacher-specific) should throw error for non-teacher","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-teacher"},{"ancestorTitles":["User Model","Static Methods","authenticate"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods authenticate should authenticate user with valid credentials","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should authenticate user with valid credentials"},{"ancestorTitles":["User Model","Static Methods","authenticate"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods authenticate should reject authentication with invalid credentials","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject authentication with invalid credentials"},{"ancestorTitles":["User Model","Static Methods","authenticate"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods authenticate should reject authentication for inactive user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject authentication for inactive user"},{"ancestorTitles":["User Model","Static Methods","authenticate"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods authenticate should reject authentication for unverified user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject authentication for unverified user"},{"ancestorTitles":["User Model","Static Methods","authenticate"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods authenticate should reject authentication with invalid password","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject authentication with invalid password"},{"ancestorTitles":["User Model","Static Methods","findBySchoolAndRole"],"duration":45,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods findBySchoolAndRole should find users by school and role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find users by school and role"},{"ancestorTitles":["User Model","Static Methods","findTeachers"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods findTeachers should find teachers by school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find teachers by school"},{"ancestorTitles":["User Model","Static Methods","findParents"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods findParents should find parents by school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find parents by school"},{"ancestorTitles":["User Model","Static Methods","findAdmins"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods findAdmins should find admins by school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find admins by school"},{"ancestorTitles":["User Model","Static Methods","findByInvitationToken"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Model Static Methods findByInvitationToken should find user by valid invitation token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should find user by valid invitation token"},{"ancestorTitles":["User Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Virtual Properties should generate fullName virtual","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate fullName virtual"},{"ancestorTitles":["User Model","Virtual Properties"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"User Model Virtual Properties should generate displayName virtual","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate displayName virtual"},{"ancestorTitles":["User Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"User Model Virtual Properties should generate invitationStatus virtual","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate invitationStatus virtual"},{"ancestorTitles":["User Model","JSON Transformation"],"duration":57,"failureDetails":[],"failureMessages":[],"fullName":"User Model JSON Transformation should remove sensitive data from JSON output","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should remove sensitive data from JSON output"}],"endTime":1772229526492,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\models\\__tests__\\User.test.js","startTime":1772229524567,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Student Management Routes","POST /"],"duration":225,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes POST / should call createStudent controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call createStudent controller"},{"ancestorTitles":["Student Management Routes","POST /"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes POST / should require admin role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require admin role"},{"ancestorTitles":["Student Management Routes","GET /"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes GET / should call getStudents controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getStudents controller"},{"ancestorTitles":["Student Management Routes","GET /"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes GET / should accept query parameters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should accept query parameters"},{"ancestorTitles":["Student Management Routes","GET /:studentId"],"duration":44,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes GET /:studentId should call getStudentDetails controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getStudentDetails controller"},{"ancestorTitles":["Student Management Routes","PUT /:studentId"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes PUT /:studentId should call updateStudent controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call updateStudent controller"},{"ancestorTitles":["Student Management Routes","PUT /:studentId"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes PUT /:studentId should require admin role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require admin role"},{"ancestorTitles":["Student Management Routes","POST /toggle-status"],"duration":60,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes POST /toggle-status should call toggleStudentStatus controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call toggleStudentStatus controller"},{"ancestorTitles":["Student Management Routes","DELETE /remove"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Student Management Routes DELETE /remove should call removeStudent controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call removeStudent controller"}],"endTime":1772229526959,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\studentManagement.test.js","startTime":1772229524432,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should create a valid teacher invitation","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create a valid teacher invitation"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should create a valid parent invitation","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create a valid parent invitation"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should require schoolId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require schoolId"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should require email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require email"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should require role","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require role"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should require invitedBy","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require invitedBy"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should require expiresAt","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require expiresAt"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should validate email format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should validate role enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate role enum"},{"ancestorTitles":["Invitation Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Schema Validation should validate status enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate status enum"},{"ancestorTitles":["Invitation Model","Role-Specific Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Role-Specific Validation should require subjects for teacher invitations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require subjects for teacher invitations"},{"ancestorTitles":["Invitation Model","Role-Specific Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Role-Specific Validation should require studentIds for parent invitations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require studentIds for parent invitations"},{"ancestorTitles":["Invitation Model","Role-Specific Validation"],"duration":60,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Role-Specific Validation should not allow subjects for parent invitations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not allow subjects for parent invitations"},{"ancestorTitles":["Invitation Model","Role-Specific Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Role-Specific Validation should not allow studentIds for teacher invitations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not allow studentIds for teacher invitations"},{"ancestorTitles":["Invitation Model","Role-Specific Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Role-Specific Validation should not allow classes for parent invitations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not allow classes for parent invitations"},{"ancestorTitles":["Invitation Model","Token Generation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Token Generation should have token generation logic","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have token generation logic"},{"ancestorTitles":["Invitation Model","Token Generation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Token Generation should preserve existing token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should preserve existing token"},{"ancestorTitles":["Invitation Model","Instance Methods","isExpired"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods isExpired should return false for non-expired invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for non-expired invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","isExpired"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods isExpired should return true for expired invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return true for expired invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","isValid"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods isValid should return true for valid pending invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return true for valid pending invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","isValid"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods isValid should return false for accepted invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for accepted invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","isValid"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods isValid should return false for expired invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for expired invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","accept"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods accept should accept valid invitation","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should accept valid invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","accept"],"duration":157,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods accept should throw error for expired invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for expired invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","accept"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods accept should throw error for already accepted invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for already accepted invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","cancel"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods cancel should cancel pending invitation","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should cancel pending invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","cancel"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods cancel should throw error for non-pending invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-pending invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","resend"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods resend should resend pending invitation","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should resend pending invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","resend"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods resend should resend expired invitation","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should resend expired invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","resend"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods resend should throw error for accepted invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for accepted invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","extendExpiration"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods extendExpiration should extend expiration for pending invitation","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should extend expiration for pending invitation"},{"ancestorTitles":["Invitation Model","Instance Methods","extendExpiration"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Instance Methods extendExpiration should throw error for non-pending invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-pending invitation"},{"ancestorTitles":["Invitation Model","Static Methods","findBySchoolAndStatus"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Static Methods findBySchoolAndStatus should find invitations by school and status","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find invitations by school and status"},{"ancestorTitles":["Invitation Model","Static Methods","findBySchoolAndStatus"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Static Methods findBySchoolAndStatus should find invitations by school without status filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find invitations by school without status filter"},{"ancestorTitles":["Invitation Model","Static Methods","findPendingBySchool"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Static Methods findPendingBySchool should find pending invitations by school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find pending invitations by school"},{"ancestorTitles":["Invitation Model","Static Methods","findExpiredBySchool"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Static Methods findExpiredBySchool should find expired invitations by school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find expired invitations by school"},{"ancestorTitles":["Invitation Model","Static Methods","findByToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Static Methods findByToken should find invitation by token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find invitation by token"},{"ancestorTitles":["Invitation Model","Static Methods","findByEmailAndSchool"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Static Methods findByEmailAndSchool should find invitations by email and school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find invitations by email and school"},{"ancestorTitles":["Invitation Model","Static Methods","expireOldInvitations"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Static Methods expireOldInvitations should expire old invitations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should expire old invitations"},{"ancestorTitles":["Invitation Model","Static Methods","getSchoolStatistics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Static Methods getSchoolStatistics should return school statistics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return school statistics"},{"ancestorTitles":["Invitation Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Virtual Properties should generate fullName virtual with first and last name","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate fullName virtual with first and last name"},{"ancestorTitles":["Invitation Model","Virtual Properties"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Virtual Properties should generate fullName virtual with email when no names","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate fullName virtual with email when no names"},{"ancestorTitles":["Invitation Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Virtual Properties should generate displayName virtual","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate displayName virtual"},{"ancestorTitles":["Invitation Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Virtual Properties should generate statusDisplay virtual for pending invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for pending invitation"},{"ancestorTitles":["Invitation Model","Virtual Properties"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Virtual Properties should generate statusDisplay virtual for expired invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for expired invitation"},{"ancestorTitles":["Invitation Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Virtual Properties should generate timeRemaining virtual for pending invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate timeRemaining virtual for pending invitation"},{"ancestorTitles":["Invitation Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model Virtual Properties should generate timeRemaining virtual for accepted invitation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate timeRemaining virtual for accepted invitation"},{"ancestorTitles":["Invitation Model","JSON Transformation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Invitation Model JSON Transformation should remove version field from JSON output","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should remove version field from JSON output"}],"endTime":1772229527560,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\models\\__tests__\\Invitation.test.js","startTime":1772229526019,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SystemAdminAuthController","POST /login"],"duration":55,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController POST /login should login successfully with valid credentials","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should login successfully with valid credentials"},{"ancestorTitles":["SystemAdminAuthController","POST /login"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController POST /login should fail with missing credentials","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should fail with missing credentials"},{"ancestorTitles":["SystemAdminAuthController","POST /login"],"duration":41,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController POST /login should fail when system admin not configured","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should fail when system admin not configured"},{"ancestorTitles":["SystemAdminAuthController","POST /login"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController POST /login should fail with invalid credentials","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should fail with invalid credentials"},{"ancestorTitles":["SystemAdminAuthController","GET /verify"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController GET /verify should verify valid token successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should verify valid token successfully"},{"ancestorTitles":["SystemAdminAuthController","POST /refresh"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController POST /refresh should refresh token successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should refresh token successfully"},{"ancestorTitles":["SystemAdminAuthController","POST /refresh"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController POST /refresh should fail without token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should fail without token"},{"ancestorTitles":["SystemAdminAuthController","POST /logout"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController POST /logout should logout successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should logout successfully"},{"ancestorTitles":["SystemAdminAuthController","GET /status"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthController GET /status should return system admin status","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return system admin status"}],"endTime":1772229528324,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\controllers\\__tests__\\systemAdminAuthController.test.js","startTime":1772229527211,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Validation Middleware","Common Schemas"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Common Schemas should validate email correctly","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should validate email correctly"},{"ancestorTitles":["Validation Middleware","Common Schemas"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Common Schemas should validate password with strong requirements","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should validate password with strong requirements"},{"ancestorTitles":["Validation Middleware","Common Schemas"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Common Schemas should validate ObjectId format","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should validate ObjectId format"},{"ancestorTitles":["Validation Middleware","Common Schemas"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Common Schemas should validate role correctly","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should validate role correctly"},{"ancestorTitles":["Validation Middleware","School Auth Schemas"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware School Auth Schemas should validate school signup data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate school signup data"},{"ancestorTitles":["Validation Middleware","School Auth Schemas"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware School Auth Schemas should reject mismatched passwords","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject mismatched passwords"},{"ancestorTitles":["Validation Middleware","School Auth Schemas"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware School Auth Schemas should validate login data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate login data"},{"ancestorTitles":["Validation Middleware","School Auth Schemas"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware School Auth Schemas should validate email verification data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate email verification data"},{"ancestorTitles":["Validation Middleware","School Auth Schemas"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware School Auth Schemas should reject invalid OTP format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid OTP format"},{"ancestorTitles":["Validation Middleware","User Schemas"],"duration":39,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware User Schemas should validate user creation data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate user creation data"},{"ancestorTitles":["Validation Middleware","User Schemas"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware User Schemas should require subjects for teachers","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require subjects for teachers"},{"ancestorTitles":["Validation Middleware","User Schemas"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware User Schemas should forbid subjects for non-teachers","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should forbid subjects for non-teachers"},{"ancestorTitles":["Validation Middleware","User Schemas"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware User Schemas should validate password change data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate password change data"},{"ancestorTitles":["Validation Middleware","Invitation Schemas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Invitation Schemas should validate invitation data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate invitation data"},{"ancestorTitles":["Validation Middleware","Invitation Schemas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Invitation Schemas should validate invitation acceptance data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate invitation acceptance data"},{"ancestorTitles":["Validation Middleware","Validation Middleware Functions"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Validation Middleware Functions validateBody should validate request body","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateBody should validate request body"},{"ancestorTitles":["Validation Middleware","Validation Middleware Functions"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Validation Middleware Functions validateBody should return validation errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"validateBody should return validation errors"},{"ancestorTitles":["Validation Middleware","Validation Middleware Functions"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Validation Middleware Functions validateParams should validate request parameters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateParams should validate request parameters"},{"ancestorTitles":["Validation Middleware","Validation Middleware Functions"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Validation Middleware Functions validateQuery should validate query parameters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateQuery should validate query parameters"},{"ancestorTitles":["Validation Middleware","Validation Middleware Functions"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Validation Middleware Functions validateRequest should combine multiple validations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"validateRequest should combine multiple validations"},{"ancestorTitles":["Validation Middleware","Input Sanitization"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Input Sanitization should sanitize XSS attempts in body","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should sanitize XSS attempts in body"},{"ancestorTitles":["Validation Middleware","Input Sanitization"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Input Sanitization should sanitize HTML tags","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should sanitize HTML tags"},{"ancestorTitles":["Validation Middleware","Input Sanitization"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Input Sanitization should handle nested objects","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle nested objects"},{"ancestorTitles":["Validation Middleware","Input Sanitization"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Validation Middleware Input Sanitization should sanitize query parameters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should sanitize query parameters"}],"endTime":1772229528384,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\validation.test.js","startTime":1772229526851,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["School Model","Schema Validation"],"duration":52,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should create a valid school with required fields","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create a valid school with required fields"},{"ancestorTitles":["School Model","Schema Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should require schoolName","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require schoolName"},{"ancestorTitles":["School Model","Schema Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should require email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require email"},{"ancestorTitles":["School Model","Schema Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should require password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require password"},{"ancestorTitles":["School Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should validate email format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["School Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should validate phone format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate phone format"},{"ancestorTitles":["School Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should validate schoolType enum","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate schoolType enum"},{"ancestorTitles":["School Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should validate schoolName length","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate schoolName length"},{"ancestorTitles":["School Model","Schema Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"School Model Schema Validation should validate password length","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate password length"},{"ancestorTitles":["School Model","Password Hashing"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Password Hashing should have password hashing functionality","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have password hashing functionality"},{"ancestorTitles":["School Model","Password Hashing"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Password Hashing comparePassword should work with bcrypt","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"comparePassword should work with bcrypt"},{"ancestorTitles":["School Model","SchoolId Generation"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"School Model SchoolId Generation should have schoolId generation logic","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have schoolId generation logic"},{"ancestorTitles":["School Model","SchoolId Generation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"School Model SchoolId Generation should preserve existing schoolId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should preserve existing schoolId"},{"ancestorTitles":["School Model","SchoolId Generation"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"School Model SchoolId Generation should generate correct prefix from school name","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate correct prefix from school name"},{"ancestorTitles":["School Model","Instance Methods","comparePassword"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods comparePassword should compare password correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should compare password correctly"},{"ancestorTitles":["School Model","Instance Methods","comparePassword"],"duration":162,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods comparePassword should throw error if password not available","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if password not available"},{"ancestorTitles":["School Model","Instance Methods","generateVerificationOTP"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods generateVerificationOTP should generate 6-digit OTP","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should generate 6-digit OTP"},{"ancestorTitles":["School Model","Instance Methods","verifyOTP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods verifyOTP should verify correct OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should verify correct OTP"},{"ancestorTitles":["School Model","Instance Methods","verifyOTP"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods verifyOTP should reject incorrect OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject incorrect OTP"},{"ancestorTitles":["School Model","Instance Methods","verifyOTP"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods verifyOTP should reject expired OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject expired OTP"},{"ancestorTitles":["School Model","Instance Methods","verifyOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods verifyOTP should return false if no OTP set","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false if no OTP set"},{"ancestorTitles":["School Model","Instance Methods","completeVerification"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods completeVerification should complete verification and clear OTP data","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should complete verification and clear OTP data"},{"ancestorTitles":["School Model","Instance Methods","generatePasswordResetToken"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods generatePasswordResetToken should generate password reset token","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate password reset token"},{"ancestorTitles":["School Model","Instance Methods","verifyPasswordResetToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods verifyPasswordResetToken should verify correct reset token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should verify correct reset token"},{"ancestorTitles":["School Model","Instance Methods","verifyPasswordResetToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods verifyPasswordResetToken should reject incorrect reset token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject incorrect reset token"},{"ancestorTitles":["School Model","Instance Methods","verifyPasswordResetToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods verifyPasswordResetToken should reject expired reset token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject expired reset token"},{"ancestorTitles":["School Model","Instance Methods","resetPassword"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods resetPassword should reset password and clear reset data","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reset password and clear reset data"},{"ancestorTitles":["School Model","Instance Methods","setActiveStatus"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Model Instance Methods setActiveStatus should set active status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should set active status"},{"ancestorTitles":["School Model","Static Methods","findBySchoolId"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"School Model Static Methods findBySchoolId should find school by schoolId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find school by schoolId"},{"ancestorTitles":["School Model","Static Methods","findVerified"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Model Static Methods findVerified should find verified schools","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find verified schools"},{"ancestorTitles":["School Model","Static Methods","findPendingVerification"],"duration":39,"failureDetails":[],"failureMessages":[],"fullName":"School Model Static Methods findPendingVerification should find schools pending verification","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find schools pending verification"},{"ancestorTitles":["School Model","Static Methods","authenticate"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"School Model Static Methods authenticate should authenticate school with valid credentials","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should authenticate school with valid credentials"},{"ancestorTitles":["School Model","Static Methods","authenticate"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Model Static Methods authenticate should reject authentication with invalid schoolId or email","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject authentication with invalid schoolId or email"},{"ancestorTitles":["School Model","Static Methods","authenticate"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Model Static Methods authenticate should reject authentication for inactive school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject authentication for inactive school"},{"ancestorTitles":["School Model","Static Methods","authenticate"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"School Model Static Methods authenticate should reject authentication for unverified school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject authentication for unverified school"},{"ancestorTitles":["School Model","Static Methods","authenticate"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"School Model Static Methods authenticate should reject authentication with invalid password","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject authentication with invalid password"},{"ancestorTitles":["School Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Model Virtual Properties should generate displayName virtual","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate displayName virtual"},{"ancestorTitles":["School Model","Virtual Properties"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"School Model Virtual Properties should generate verificationStatus virtual","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate verificationStatus virtual"},{"ancestorTitles":["School Model","JSON Transformation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"School Model JSON Transformation should remove sensitive data from JSON output","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should remove sensitive data from JSON output"}],"endTime":1772229529330,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\models\\__tests__\\School.test.js","startTime":1772229527738,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["OTP Model","Schema Validation"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should create a valid OTP","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create a valid OTP"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should require email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require email"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should require otp","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require otp"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should require purpose","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require purpose"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should require expiresAt","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require expiresAt"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should validate email format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should validate purpose enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate purpose enum"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should validate schoolId for school-signup purpose","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate schoolId for school-signup purpose"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should validate attemptCount minimum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate attemptCount minimum"},{"ancestorTitles":["OTP Model","Schema Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Schema Validation should validate maxAttempts minimum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate maxAttempts minimum"},{"ancestorTitles":["OTP Model","OTP Hashing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model OTP Hashing should have OTP hashing functionality","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have OTP hashing functionality"},{"ancestorTitles":["OTP Model","Instance Methods","verifyOTP"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods verifyOTP should verify correct OTP","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should verify correct OTP"},{"ancestorTitles":["OTP Model","Instance Methods","verifyOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods verifyOTP should reject incorrect OTP","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reject incorrect OTP"},{"ancestorTitles":["OTP Model","Instance Methods","verifyOTP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods verifyOTP should reject already used OTP","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject already used OTP"},{"ancestorTitles":["OTP Model","Instance Methods","verifyOTP"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods verifyOTP should reject expired OTP","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject expired OTP"},{"ancestorTitles":["OTP Model","Instance Methods","verifyOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods verifyOTP should reject OTP when max attempts exceeded","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject OTP when max attempts exceeded"},{"ancestorTitles":["OTP Model","Instance Methods","markAsUsed"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods markAsUsed should mark OTP as used","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should mark OTP as used"},{"ancestorTitles":["OTP Model","Instance Methods","markAsUsed"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods markAsUsed should mark OTP as used without IP","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should mark OTP as used without IP"},{"ancestorTitles":["OTP Model","Instance Methods","isExpired"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods isExpired should return false for non-expired OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for non-expired OTP"},{"ancestorTitles":["OTP Model","Instance Methods","isExpired"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods isExpired should return true for expired OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return true for expired OTP"},{"ancestorTitles":["OTP Model","Instance Methods","isValid"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods isValid should return true for valid OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return true for valid OTP"},{"ancestorTitles":["OTP Model","Instance Methods","isValid"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods isValid should return false for used OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for used OTP"},{"ancestorTitles":["OTP Model","Instance Methods","isValid"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods isValid should return false for expired OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for expired OTP"},{"ancestorTitles":["OTP Model","Instance Methods","isValid"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Instance Methods isValid should return false for OTP with exceeded attempts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false for OTP with exceeded attempts"},{"ancestorTitles":["OTP Model","Static Methods","generateOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods generateOTP should generate 6-digit OTP by default","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should generate 6-digit OTP by default"},{"ancestorTitles":["OTP Model","Static Methods","generateOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods generateOTP should generate OTP with custom length","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should generate OTP with custom length"},{"ancestorTitles":["OTP Model","Static Methods","createOTP"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods createOTP should create OTP with default settings","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create OTP with default settings"},{"ancestorTitles":["OTP Model","Static Methods","createOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods createOTP should create OTP with custom settings","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create OTP with custom settings"},{"ancestorTitles":["OTP Model","Static Methods","findValidOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods findValidOTP should find valid OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find valid OTP"},{"ancestorTitles":["OTP Model","Static Methods","findValidOTP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods findValidOTP should find valid OTP without schoolId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find valid OTP without schoolId"},{"ancestorTitles":["OTP Model","Static Methods","verifyAndConsumeOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods verifyAndConsumeOTP should verify and consume valid OTP","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should verify and consume valid OTP"},{"ancestorTitles":["OTP Model","Static Methods","verifyAndConsumeOTP"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods verifyAndConsumeOTP should return error if no valid OTP found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return error if no valid OTP found"},{"ancestorTitles":["OTP Model","Static Methods","cleanupExpired"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods cleanupExpired should cleanup expired OTPs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should cleanup expired OTPs"},{"ancestorTitles":["OTP Model","Static Methods","getStatistics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods getStatistics should return OTP statistics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return OTP statistics"},{"ancestorTitles":["OTP Model","Static Methods","invalidateOTPs"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods invalidateOTPs should invalidate OTPs for email and purpose","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should invalidate OTPs for email and purpose"},{"ancestorTitles":["OTP Model","Static Methods","invalidateOTPs"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Static Methods invalidateOTPs should invalidate OTPs without schoolId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should invalidate OTPs without schoolId"},{"ancestorTitles":["OTP Model","Virtual Properties"],"duration":47,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Virtual Properties should generate statusDisplay virtual for active OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for active OTP"},{"ancestorTitles":["OTP Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Virtual Properties should generate statusDisplay virtual for used OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for used OTP"},{"ancestorTitles":["OTP Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Virtual Properties should generate statusDisplay virtual for expired OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for expired OTP"},{"ancestorTitles":["OTP Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Virtual Properties should generate statusDisplay virtual for blocked OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for blocked OTP"},{"ancestorTitles":["OTP Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Virtual Properties should generate timeRemaining virtual for active OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate timeRemaining virtual for active OTP"},{"ancestorTitles":["OTP Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Virtual Properties should generate timeRemaining virtual for used OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate timeRemaining virtual for used OTP"},{"ancestorTitles":["OTP Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model Virtual Properties should generate timeRemaining virtual for expired OTP","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate timeRemaining virtual for expired OTP"},{"ancestorTitles":["OTP Model","JSON Transformation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OTP Model JSON Transformation should remove sensitive data from JSON output","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should remove sensitive data from JSON output"}],"endTime":1772229530042,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\models\\__tests__\\OTP.test.js","startTime":1772229528678,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Student Model","Schema Validation"],"duration":81,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should create a valid student","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create a valid student"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should require schoolId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require schoolId"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should require firstName","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require firstName"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should require lastName","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require lastName"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should validate email format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate email format"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should validate phone format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate phone format"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should validate gender enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate gender enum"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should validate firstName length","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate firstName length"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should validate lastName length","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate lastName length"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should validate date of birth range","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate date of birth range"},{"ancestorTitles":["Student Model","Schema Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Schema Validation should validate future date of birth","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate future date of birth"},{"ancestorTitles":["Student Model","StudentId Generation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Student Model StudentId Generation should have studentId generation logic","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have studentId generation logic"},{"ancestorTitles":["Student Model","StudentId Generation"],"duration":52,"failureDetails":[],"failureMessages":[],"fullName":"Student Model StudentId Generation should preserve existing studentId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should preserve existing studentId"},{"ancestorTitles":["Student Model","Instance Methods","addParent"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addParent should add parent to student","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should add parent to student"},{"ancestorTitles":["Student Model","Instance Methods","addParent"],"duration":177,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addParent should throw error if parent not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if parent not found"},{"ancestorTitles":["Student Model","Instance Methods","addParent"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addParent should throw error if user is not a parent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if user is not a parent"},{"ancestorTitles":["Student Model","Instance Methods","addParent"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addParent should throw error if parent from different school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if parent from different school"},{"ancestorTitles":["Student Model","Instance Methods","addParent"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addParent should not add duplicate parent","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not add duplicate parent"},{"ancestorTitles":["Student Model","Instance Methods","removeParent"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods removeParent should remove parent from student","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should remove parent from student"},{"ancestorTitles":["Student Model","Instance Methods","removeParent"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods removeParent should handle parent not found during removal","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle parent not found during removal"},{"ancestorTitles":["Student Model","Instance Methods","addTeacher"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addTeacher should add teacher to student","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add teacher to student"},{"ancestorTitles":["Student Model","Instance Methods","addTeacher"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addTeacher should throw error if teacher not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if teacher not found"},{"ancestorTitles":["Student Model","Instance Methods","addTeacher"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addTeacher should throw error if user is not a teacher","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if user is not a teacher"},{"ancestorTitles":["Student Model","Instance Methods","addTeacher"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addTeacher should throw error if teacher from different school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if teacher from different school"},{"ancestorTitles":["Student Model","Instance Methods","addTeacher"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods addTeacher should not add duplicate teacher","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not add duplicate teacher"},{"ancestorTitles":["Student Model","Instance Methods","removeTeacher"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods removeTeacher should remove teacher from student","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove teacher from student"},{"ancestorTitles":["Student Model","Instance Methods","deactivate"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods deactivate should deactivate student with reason","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should deactivate student with reason"},{"ancestorTitles":["Student Model","Instance Methods","reactivate"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods reactivate should reactivate student and clear deactivation data","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should reactivate student and clear deactivation data"},{"ancestorTitles":["Student Model","Instance Methods","updateClassInfo"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods updateClassInfo should update class information","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should update class information"},{"ancestorTitles":["Student Model","Instance Methods","updateClassInfo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Instance Methods updateClassInfo should update only provided fields","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should update only provided fields"},{"ancestorTitles":["Student Model","Static Methods","findBySchool"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods findBySchool should find students by school with default filters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find students by school with default filters"},{"ancestorTitles":["Student Model","Static Methods","findBySchool"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods findBySchool should find students by school with custom options","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find students by school with custom options"},{"ancestorTitles":["Student Model","Static Methods","findByClass"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods findByClass should find students by class without section","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find students by class without section"},{"ancestorTitles":["Student Model","Static Methods","findByClass"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods findByClass should find students by class with section","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find students by class with section"},{"ancestorTitles":["Student Model","Static Methods","findByParent"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods findByParent should find students by parent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find students by parent"},{"ancestorTitles":["Student Model","Static Methods","findByTeacher"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods findByTeacher should find students by teacher","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find students by teacher"},{"ancestorTitles":["Student Model","Static Methods","findByStudentId"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods findByStudentId should find student by studentId within school","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find student by studentId within school"},{"ancestorTitles":["Student Model","Static Methods","getSchoolStatistics"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods getSchoolStatistics should return school statistics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return school statistics"},{"ancestorTitles":["Student Model","Static Methods","getSchoolStatistics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Static Methods getSchoolStatistics should return default statistics if no data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return default statistics if no data"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should generate fullName virtual","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate fullName virtual"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should generate displayName virtual","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate displayName virtual"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should generate classDisplay virtual with class and section","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate classDisplay virtual with class and section"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should generate classDisplay virtual with class only","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate classDisplay virtual with class only"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should generate classDisplay virtual when no class assigned","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate classDisplay virtual when no class assigned"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should calculate age virtual correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should calculate age virtual correctly"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should return null age if no date of birth","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null age if no date of birth"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should generate statusDisplay virtual for active student","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for active student"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should generate statusDisplay virtual for deactivated student","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for deactivated student"},{"ancestorTitles":["Student Model","Virtual Properties"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Student Model Virtual Properties should generate statusDisplay virtual for not enrolled student","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate statusDisplay virtual for not enrolled student"},{"ancestorTitles":["Student Model","JSON Transformation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Student Model JSON Transformation should remove version field from JSON output","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should remove version field from JSON output"}],"endTime":1772229530112,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\models\\__tests__\\Student.test.js","startTime":1772229528404,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SystemAlert Model","Model Validation"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"SystemAlert Model Model Validation should create a valid system alert","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create a valid system alert"},{"ancestorTitles":["SystemAlert Model","Model Validation"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"SystemAlert Model Model Validation should require alertType","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require alertType"},{"ancestorTitles":["SystemAlert Model","Model Validation"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"SystemAlert Model Model Validation should require severity","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require severity"},{"ancestorTitles":["SystemAlert Model","Model Validation"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"SystemAlert Model Model Validation should require title","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require title"},{"ancestorTitles":["SystemAlert Model","Model Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"SystemAlert Model Model Validation should validate alertType enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate alertType enum"},{"ancestorTitles":["SystemAlert Model","Model Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAlert Model Model Validation should validate severity enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate severity enum"},{"ancestorTitles":["SystemAlert Model","Instance Methods"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"SystemAlert Model Instance Methods should create alert with default values","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create alert with default values"},{"ancestorTitles":["SystemAlert Model","Instance Methods"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAlert Model Instance Methods should have basic alert functionality","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have basic alert functionality"}],"endTime":1772229530689,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\models\\__tests__\\SystemAlert.test.js","startTime":1772229529776,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Parent Dashboard Routes","GET /dashboard"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"Parent Dashboard Routes GET /dashboard should call getParentDashboard controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getParentDashboard controller"},{"ancestorTitles":["Parent Dashboard Routes","GET /children"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Parent Dashboard Routes GET /children should call getMyChildren controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getMyChildren controller"},{"ancestorTitles":["Parent Dashboard Routes","GET /children/:childId"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Parent Dashboard Routes GET /children/:childId should call getMyChildren controller with child ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getMyChildren controller with child ID"},{"ancestorTitles":["Parent Dashboard Routes","PUT /profile"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"Parent Dashboard Routes PUT /profile should call updateParentProfile controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call updateParentProfile controller"},{"ancestorTitles":["Parent Dashboard Routes","Authentication and Authorization"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Parent Dashboard Routes Authentication and Authorization should require authentication for all routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for all routes"},{"ancestorTitles":["Parent Dashboard Routes","Authentication and Authorization"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Parent Dashboard Routes Authentication and Authorization should require parent role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require parent role"}],"endTime":1772229530977,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\parentDashboard.test.js","startTime":1772229530168,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PlatformAuditLog Model","Model Validation"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"PlatformAuditLog Model Model Validation should create a valid audit log","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create a valid audit log"},{"ancestorTitles":["PlatformAuditLog Model","Model Validation"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"PlatformAuditLog Model Model Validation should require operation","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require operation"},{"ancestorTitles":["PlatformAuditLog Model","Model Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PlatformAuditLog Model Model Validation should require operationType","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require operationType"},{"ancestorTitles":["PlatformAuditLog Model","Model Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PlatformAuditLog Model Model Validation should validate operationType enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate operationType enum"},{"ancestorTitles":["PlatformAuditLog Model","Model Validation"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"PlatformAuditLog Model Model Validation should validate userRole enum","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate userRole enum"},{"ancestorTitles":["PlatformAuditLog Model","Instance Methods"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PlatformAuditLog Model Instance Methods should have basic audit log functionality","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have basic audit log functionality"}],"endTime":1772229531159,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\models\\__tests__\\PlatformAuditLog.test.js","startTime":1772229530089,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Parent Management Routes","POST /invite-parent"],"duration":57,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes POST /invite-parent should call inviteParent controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call inviteParent controller"},{"ancestorTitles":["Parent Management Routes","POST /invite-parent"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes POST /invite-parent should require admin role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require admin role"},{"ancestorTitles":["Parent Management Routes","GET /parents"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes GET /parents should call getParents controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getParents controller"},{"ancestorTitles":["Parent Management Routes","GET /parents"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes GET /parents should accept query parameters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should accept query parameters"},{"ancestorTitles":["Parent Management Routes","GET /parents/:parentId"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes GET /parents/:parentId should call getParentDetails controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getParentDetails controller"},{"ancestorTitles":["Parent Management Routes","POST /parents/:parentId/link-students"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes POST /parents/:parentId/link-students should call linkParentToStudents controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call linkParentToStudents controller"},{"ancestorTitles":["Parent Management Routes","POST /parents/:parentId/link-students"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes POST /parents/:parentId/link-students should require admin role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require admin role"},{"ancestorTitles":["Parent Management Routes","POST /parents/:parentId/unlink-students"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes POST /parents/:parentId/unlink-students should call unlinkParentFromStudents controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call unlinkParentFromStudents controller"},{"ancestorTitles":["Parent Management Routes","DELETE /parents/:parentId"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes DELETE /parents/:parentId should call removeParent controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call removeParent controller"},{"ancestorTitles":["Parent Management Routes","DELETE /parents/:parentId"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes DELETE /parents/:parentId should require admin role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require admin role"},{"ancestorTitles":["Parent Management Routes","Authentication and Authorization"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes Authentication and Authorization should require authentication for all routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for all routes"},{"ancestorTitles":["Parent Management Routes","Authentication and Authorization"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Parent Management Routes Authentication and Authorization should have proper role-based access control","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have proper role-based access control"}],"endTime":1772229531524,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\parentManagement.test.js","startTime":1772229530783,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["School Profile Routes","GET /"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"School Profile Routes GET / should call getSchoolProfile controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call getSchoolProfile controller"},{"ancestorTitles":["School Profile Routes","GET /"],"duration":38,"failureDetails":[],"failureMessages":[],"fullName":"School Profile Routes GET / should accept query parameters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should accept query parameters"},{"ancestorTitles":["School Profile Routes","PUT /"],"duration":35,"failureDetails":[],"failureMessages":[],"fullName":"School Profile Routes PUT / should call updateSchoolProfile controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call updateSchoolProfile controller"},{"ancestorTitles":["School Profile Routes","PUT /admin"],"duration":81,"failureDetails":[],"failureMessages":[],"fullName":"School Profile Routes PUT /admin should call updateAdminProfile controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call updateAdminProfile controller"},{"ancestorTitles":["School Profile Routes","POST /status"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"School Profile Routes POST /status should call changeSchoolStatus controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call changeSchoolStatus controller"},{"ancestorTitles":["School Profile Routes","RBAC Protection"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Profile Routes RBAC Protection should require authentication for all routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for all routes"},{"ancestorTitles":["School Profile Routes","RBAC Protection"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Profile Routes RBAC Protection should require admin role for all routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require admin role for all routes"},{"ancestorTitles":["School Profile Routes","Rate Limiting"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"School Profile Routes Rate Limiting should apply rate limiting to modification endpoints","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should apply rate limiting to modification endpoints"}],"endTime":1772229531687,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\schoolProfile.test.js","startTime":1772229531035,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Configuration generalLimiter should be configured correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"generalLimiter should be configured correctly"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Configuration authLimiter should be configured correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"authLimiter should be configured correctly"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Configuration passwordResetLimiter should be configured correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"passwordResetLimiter should be configured correctly"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Configuration emailVerificationLimiter should be configured correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"emailVerificationLimiter should be configured correctly"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Configuration invitationLimiter should be configured correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"invitationLimiter should be configured correctly"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Configuration uploadLimiter should be configured correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"uploadLimiter should be configured correctly"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Configuration schoolRegistrationLimiter should be configured correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"schoolRegistrationLimiter should be configured correctly"},{"ancestorTitles":["Rate Limiter Middleware","Dynamic Rate Limiter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Dynamic Rate Limiter createDynamicLimiter should create a rate limiter function","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"createDynamicLimiter should create a rate limiter function"},{"ancestorTitles":["Rate Limiter Middleware","Dynamic Rate Limiter"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Dynamic Rate Limiter createDynamicLimiter should use default options when none provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"createDynamicLimiter should use default options when none provided"},{"ancestorTitles":["Rate Limiter Middleware","Custom Rate Limiter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Custom Rate Limiter createCustomLimiter should create a rate limiter with custom options","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"createCustomLimiter should create a rate limiter with custom options"},{"ancestorTitles":["Rate Limiter Middleware","Custom Rate Limiter"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Custom Rate Limiter createCustomLimiter should use default options when none provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"createCustomLimiter should use default options when none provided"},{"ancestorTitles":["Rate Limiter Middleware","Logging Rate Limiter"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Logging Rate Limiter createLoggingLimiter should create a logging rate limiter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"createLoggingLimiter should create a logging rate limiter"},{"ancestorTitles":["Rate Limiter Middleware","Logging Rate Limiter"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Logging Rate Limiter createLoggingLimiter should log rate limit attempts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"createLoggingLimiter should log rate limit attempts"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Error Responses"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Error Responses should have consistent error response format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have consistent error response format"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Types"],"duration":32,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Types should have different configurations for different endpoint types","invocations":1,"location":null,"numPassingAsserts":14,"retryReasons":[],"status":"passed","title":"should have different configurations for different endpoint types"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Types"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Types should provide factory functions for custom rate limiters","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should provide factory functions for custom rate limiters"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Integration should work with Express middleware pattern","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should work with Express middleware pattern"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Integration should handle factory function creation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle factory function creation"},{"ancestorTitles":["Rate Limiter Middleware","Rate Limiter Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiter Middleware Rate Limiter Integration should create limiters with different configurations","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create limiters with different configurations"}],"endTime":1772229531732,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\rateLimiter.test.js","startTime":1772229531203,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Authentication Middleware","authenticateToken"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware authenticateToken should authenticate valid token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should authenticate valid token"},{"ancestorTitles":["Authentication Middleware","authenticateToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware authenticateToken should reject request without token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject request without token"},{"ancestorTitles":["Authentication Middleware","authenticateToken"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware authenticateToken should reject request with invalid token format","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject request with invalid token format"},{"ancestorTitles":["Authentication Middleware","authenticateToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware authenticateToken should reject request with expired token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject request with expired token"},{"ancestorTitles":["Authentication Middleware","authenticateToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware authenticateToken should reject request with invalid token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject request with invalid token"},{"ancestorTitles":["Authentication Middleware","generateTokens"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware generateTokens should generate access and refresh tokens","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate access and refresh tokens"},{"ancestorTitles":["Authentication Middleware","verifyRefreshToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware verifyRefreshToken should verify valid refresh token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should verify valid refresh token"},{"ancestorTitles":["Authentication Middleware","verifyRefreshToken"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware verifyRefreshToken should throw error for invalid refresh token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid refresh token"},{"ancestorTitles":["Authentication Middleware","Token extraction"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware Token extraction should extract token from Authorization header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should extract token from Authorization header"},{"ancestorTitles":["Authentication Middleware","Token extraction"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Middleware Token extraction should handle case-insensitive Bearer prefix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle case-insensitive Bearer prefix"}],"endTime":1772229532129,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\auth.test.js","startTime":1772229531610,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SystemAdminAuthService","validateSystemAdminCredentials"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService validateSystemAdminCredentials should validate correct credentials","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate correct credentials"},{"ancestorTitles":["SystemAdminAuthService","validateSystemAdminCredentials"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService validateSystemAdminCredentials should reject incorrect email","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject incorrect email"},{"ancestorTitles":["SystemAdminAuthService","validateSystemAdminCredentials"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService validateSystemAdminCredentials should reject incorrect password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject incorrect password"},{"ancestorTitles":["SystemAdminAuthService","validateSystemAdminCredentials"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService validateSystemAdminCredentials should return false when credentials not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false when credentials not configured"},{"ancestorTitles":["SystemAdminAuthService","validateSystemAdminCredentials"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService validateSystemAdminCredentials should handle bcrypt errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle bcrypt errors gracefully"},{"ancestorTitles":["SystemAdminAuthService","generateSystemAdminToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService generateSystemAdminToken should generate valid JWT token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate valid JWT token"},{"ancestorTitles":["SystemAdminAuthService","generateSystemAdminToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService generateSystemAdminToken should use custom JWT secret if provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom JWT secret if provided"},{"ancestorTitles":["SystemAdminAuthService","generateSystemAdminToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService generateSystemAdminToken should use custom session timeout if provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom session timeout if provided"},{"ancestorTitles":["SystemAdminAuthService","verifySystemAdminToken"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService verifySystemAdminToken should verify valid system admin token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should verify valid system admin token"},{"ancestorTitles":["SystemAdminAuthService","verifySystemAdminToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService verifySystemAdminToken should reject invalid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid token"},{"ancestorTitles":["SystemAdminAuthService","verifySystemAdminToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService verifySystemAdminToken should reject non-system-admin token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject non-system-admin token"},{"ancestorTitles":["SystemAdminAuthService","verifySystemAdminToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService verifySystemAdminToken should reject token with wrong type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject token with wrong type"},{"ancestorTitles":["SystemAdminAuthService","loginSystemAdmin"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService loginSystemAdmin should login successfully with valid credentials","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should login successfully with valid credentials"},{"ancestorTitles":["SystemAdminAuthService","loginSystemAdmin"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService loginSystemAdmin should fail with invalid credentials","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fail with invalid credentials"},{"ancestorTitles":["SystemAdminAuthService","loginSystemAdmin"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService loginSystemAdmin should fail when credentials not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fail when credentials not configured"},{"ancestorTitles":["SystemAdminAuthService","isSystemAdminConfigured"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService isSystemAdminConfigured should return true when credentials are configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return true when credentials are configured"},{"ancestorTitles":["SystemAdminAuthService","isSystemAdminConfigured"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService isSystemAdminConfigured should return false when email not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false when email not configured"},{"ancestorTitles":["SystemAdminAuthService","isSystemAdminConfigured"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService isSystemAdminConfigured should return false when password hash not configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false when password hash not configured"},{"ancestorTitles":["SystemAdminAuthService","isSystemAdminConfigured"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuthService isSystemAdminConfigured should return false when neither configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false when neither configured"}],"endTime":1772229532353,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\services\\__tests__\\systemAdminAuthService.test.js","startTime":1772229531922,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["User Auth Routes","POST /complete-registration"],"duration":38,"failureDetails":[],"failureMessages":[],"fullName":"User Auth Routes POST /complete-registration should call completeRegistration controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call completeRegistration controller"},{"ancestorTitles":["User Auth Routes","POST /login"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"User Auth Routes POST /login should call loginUser controller","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call loginUser controller"},{"ancestorTitles":["User Auth Routes","Route validation"],"duration":68,"failureDetails":[],"failureMessages":[],"fullName":"User Auth Routes Route validation should return 404 for non-existent routes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent routes"}],"endTime":1772229532386,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\userAuth.test.js","startTime":1772229531781,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SystemAdminAuth Middleware","requireSystemAdmin"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware requireSystemAdmin should authenticate valid system admin token","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should authenticate valid system admin token"},{"ancestorTitles":["SystemAdminAuth Middleware","requireSystemAdmin"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware requireSystemAdmin should reject request without authorization header","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject request without authorization header"},{"ancestorTitles":["SystemAdminAuth Middleware","requireSystemAdmin"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware requireSystemAdmin should reject invalid token format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject invalid token format"},{"ancestorTitles":["SystemAdminAuth Middleware","requireSystemAdmin"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware requireSystemAdmin should reject invalid token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject invalid token"},{"ancestorTitles":["SystemAdminAuth Middleware","requireSystemAdmin"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware requireSystemAdmin should reject non-system-admin role","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject non-system-admin role"},{"ancestorTitles":["SystemAdminAuth Middleware","validateCrossSchoolAccess"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware validateCrossSchoolAccess should allow cross-school access for system admin","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should allow cross-school access for system admin"},{"ancestorTitles":["SystemAdminAuth Middleware","validateCrossSchoolAccess"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware validateCrossSchoolAccess should reject non-system-admin users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject non-system-admin users"},{"ancestorTitles":["SystemAdminAuth Middleware","validateCrossSchoolAccess"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware validateCrossSchoolAccess should reject users without cross-school access flag","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject users without cross-school access flag"},{"ancestorTitles":["SystemAdminAuth Middleware","validateCrossSchoolAccess"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware validateCrossSchoolAccess should reject unauthenticated requests","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject unauthenticated requests"},{"ancestorTitles":["SystemAdminAuth Middleware","auditSystemOperation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware auditSystemOperation should create audit log for system admin operations","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create audit log for system admin operations"},{"ancestorTitles":["SystemAdminAuth Middleware","auditSystemOperation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware auditSystemOperation should skip audit for non-system-admin users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip audit for non-system-admin users"},{"ancestorTitles":["SystemAdminAuth Middleware","auditSystemOperation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware auditSystemOperation should handle missing user gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle missing user gracefully"},{"ancestorTitles":["SystemAdminAuth Middleware","auditSystemOperation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Middleware auditSystemOperation should continue on audit logging errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should continue on audit logging errors"}],"endTime":1772229532560,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\systemAdminAuth.test.js","startTime":1772229532197,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Cookie Helper","getCookieConfig"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper getCookieConfig should return cross-origin secure config for production (no localhost origin)","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return cross-origin secure config for production (no localhost origin)"},{"ancestorTitles":["Cookie Helper","getCookieConfig"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper getCookieConfig should return lax config for production localhost","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return lax config for production localhost"},{"ancestorTitles":["Cookie Helper","getCookieConfig"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper getCookieConfig should return less secure config for development","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return less secure config for development"},{"ancestorTitles":["Cookie Helper","setRefreshTokenCookie"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper setRefreshTokenCookie should set refresh token cookie with correct config","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set refresh token cookie with correct config"},{"ancestorTitles":["Cookie Helper","clearRefreshTokenCookie"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper clearRefreshTokenCookie should clear refresh token cookie","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should clear refresh token cookie"},{"ancestorTitles":["Cookie Helper","getRefreshTokenFromCookie"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper getRefreshTokenFromCookie should return refresh token from cookies","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return refresh token from cookies"},{"ancestorTitles":["Cookie Helper","getRefreshTokenFromCookie"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper getRefreshTokenFromCookie should return null if no refresh token in cookies","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null if no refresh token in cookies"},{"ancestorTitles":["Cookie Helper","getRefreshTokenFromCookie"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper getRefreshTokenFromCookie should return null if cookies object is undefined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null if cookies object is undefined"},{"ancestorTitles":["Cookie Helper","validateCookieSecurity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper validateCookieSecurity should validate secure connection in production","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate secure connection in production"},{"ancestorTitles":["Cookie Helper","validateCookieSecurity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper validateCookieSecurity should warn about insecure connection in production","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should warn about insecure connection in production"},{"ancestorTitles":["Cookie Helper","validateCookieSecurity"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper validateCookieSecurity should handle x-forwarded-proto header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle x-forwarded-proto header"},{"ancestorTitles":["Cookie Helper","getCookieDebugInfo"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper getCookieDebugInfo should return debug info in development","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return debug info in development"},{"ancestorTitles":["Cookie Helper","getCookieDebugInfo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cookie Helper getCookieDebugInfo should not return debug info in production","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not return debug info in production"}],"endTime":1772229532606,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\utils\\__tests__\\cookieHelper.test.js","startTime":1772229532417,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SystemAdminAuth Routes","Route Module Structure"],"duration":38,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Module Structure should export a valid Express router","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should export a valid Express router"},{"ancestorTitles":["SystemAdminAuth Routes","Route Module Structure"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Module Structure should have required controller functions","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have required controller functions"},{"ancestorTitles":["SystemAdminAuth Routes","Route Module Structure"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Module Structure should have required middleware functions","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have required middleware functions"},{"ancestorTitles":["SystemAdminAuth Routes","Route Security Features"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Security Features should use rate limiting middleware","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use rate limiting middleware"},{"ancestorTitles":["SystemAdminAuth Routes","Route Security Features"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Security Features should use authentication middleware","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use authentication middleware"},{"ancestorTitles":["SystemAdminAuth Routes","Route Security Features"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Security Features should use audit logging middleware","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use audit logging middleware"},{"ancestorTitles":["SystemAdminAuth Routes","Route Security Features"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Security Features should use validation middleware","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use validation middleware"},{"ancestorTitles":["SystemAdminAuth Routes","Route Restrictions"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Restrictions should not expose dangerous endpoints","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not expose dangerous endpoints"},{"ancestorTitles":["SystemAdminAuth Routes","Route Restrictions"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SystemAdminAuth Routes Route Restrictions should only have authentication-related endpoints","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should only have authentication-related endpoints"}],"endTime":1772229532768,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\systemAdminAuth.test.js","startTime":1772229532399,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["RBAC Middleware","Role Requirements"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Role Requirements requireAdmin should allow admin users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"requireAdmin should allow admin users"},{"ancestorTitles":["RBAC Middleware","Role Requirements"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Role Requirements requireAdmin should deny non-admin users","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"requireAdmin should deny non-admin users"},{"ancestorTitles":["RBAC Middleware","Role Requirements"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Role Requirements requireTeacher should allow teacher and admin users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"requireTeacher should allow teacher and admin users"},{"ancestorTitles":["RBAC Middleware","Role Requirements"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Role Requirements requireTeacher should deny parent users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"requireTeacher should deny parent users"},{"ancestorTitles":["RBAC Middleware","School Access Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware School Access Validation validateSchoolAccess should allow same school access","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateSchoolAccess should allow same school access"},{"ancestorTitles":["RBAC Middleware","School Access Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware School Access Validation validateSchoolAccess should deny cross-school access","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"validateSchoolAccess should deny cross-school access"},{"ancestorTitles":["RBAC Middleware","School Access Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware School Access Validation preventCrossSchoolAccess should allow requests without school ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"preventCrossSchoolAccess should allow requests without school ID"},{"ancestorTitles":["RBAC Middleware","School Access Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware School Access Validation preventCrossSchoolAccess should deny multiple school access","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"preventCrossSchoolAccess should deny multiple school access"},{"ancestorTitles":["RBAC Middleware","Resource Ownership Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Resource Ownership Validation validateResourceOwnership should allow admin access to any resource","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateResourceOwnership should allow admin access to any resource"},{"ancestorTitles":["RBAC Middleware","Resource Ownership Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Resource Ownership Validation validateResourceOwnership should allow users to access their own profile","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateResourceOwnership should allow users to access their own profile"},{"ancestorTitles":["RBAC Middleware","Resource Ownership Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Resource Ownership Validation validateResourceOwnership should deny parents access to other users","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"validateResourceOwnership should deny parents access to other users"},{"ancestorTitles":["RBAC Middleware","Resource Ownership Validation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Resource Ownership Validation validateResourceOwnership should require admin for teacher management","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"validateResourceOwnership should require admin for teacher management"},{"ancestorTitles":["RBAC Middleware","Parent Access Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Parent Access Validation validateParentAccess should allow admin and teacher access","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateParentAccess should allow admin and teacher access"},{"ancestorTitles":["RBAC Middleware","Parent Access Validation"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Parent Access Validation validateParentAccess should set validation flags for parents","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"validateParentAccess should set validation flags for parents"},{"ancestorTitles":["RBAC Middleware","Parent Access Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Parent Access Validation validateParentAccess should deny invalid roles","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"validateParentAccess should deny invalid roles"},{"ancestorTitles":["RBAC Middleware","Teacher Access Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Teacher Access Validation validateTeacherAccess should allow admin access","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateTeacherAccess should allow admin access"},{"ancestorTitles":["RBAC Middleware","Teacher Access Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Teacher Access Validation validateTeacherAccess should set validation flags for teachers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"validateTeacherAccess should set validation flags for teachers"},{"ancestorTitles":["RBAC Middleware","Teacher Access Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Teacher Access Validation validateTeacherAccess should deny parent access","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"validateTeacherAccess should deny parent access"},{"ancestorTitles":["RBAC Middleware","Endpoint Permissions"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Endpoint Permissions validateEndpointPermissions should allow admin-only access for admins","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateEndpointPermissions should allow admin-only access for admins"},{"ancestorTitles":["RBAC Middleware","Endpoint Permissions"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Endpoint Permissions validateEndpointPermissions should deny admin-only access for teachers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"validateEndpointPermissions should deny admin-only access for teachers"},{"ancestorTitles":["RBAC Middleware","Endpoint Permissions"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Endpoint Permissions validateEndpointPermissions should handle school-admin-only access","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateEndpointPermissions should handle school-admin-only access"},{"ancestorTitles":["RBAC Middleware","Audit Logging"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Audit Logging auditLog should set audit information","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"auditLog should set audit information"},{"ancestorTitles":["RBAC Middleware","RBAC Chain Creation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware RBAC Chain Creation createRBACChain should combine multiple middlewares","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"createRBACChain should combine multiple middlewares"},{"ancestorTitles":["RBAC Middleware","Authentication Requirements"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RBAC Middleware Authentication Requirements should require authentication for all protected endpoints","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should require authentication for all protected endpoints"}],"endTime":1772229532853,"message":"","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\middleware\\__tests__\\rbac.test.js","startTime":1772229532577,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1772229540372,"message":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    Your test suite must contain at least one test.\n\n      \u001b[2mat onResult (\u001b[22mnode_modules/@jest/core/build/TestScheduler.js\u001b[2m:133:18)\u001b[22m\n      \u001b[2mat \u001b[22mnode_modules/@jest/core/build/TestScheduler.js\u001b[2m:254:19\u001b[22m\n      \u001b[2mat \u001b[22mnode_modules/emittery/index.js\u001b[2m:363:13\u001b[22m\n          at Array.map (<anonymous>)\n      \u001b[2mat Emittery.emit (\u001b[22mnode_modules/emittery/index.js\u001b[2m:361:23)\u001b[22m\n","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\controllers\\__tests__\\systemAdminController.test.js","startTime":1772229540372,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1772229540372,"message":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    Route.post() requires a callback function but got a [object Undefined]\n\n    \u001b[0m \u001b[90m 43 |\u001b[39m \u001b[90m * @query   {schoolId?}\u001b[39m\n     \u001b[90m 44 |\u001b[39m \u001b[90m */\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 45 |\u001b[39m router\u001b[33m.\u001b[39mpost(\u001b[32m'/analytics/refresh'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 46 |\u001b[39m   rateLimiter\u001b[33m.\u001b[39mgeneralLimiter\u001b[33m,\u001b[39m\n     \u001b[90m 47 |\u001b[39m   validateDashboardQuery\u001b[33m,\u001b[39m\n     \u001b[90m 48 |\u001b[39m   adminDashboardController\u001b[33m.\u001b[39mforceRefreshDashboard\u001b[0m\n\n      \u001b[2mat Route.<computed> [as post] (\u001b[22mnode_modules/express/lib/router/route.js\u001b[2m:216:15)\u001b[22m\n      \u001b[2mat Function.proto.<computed> [as post] (\u001b[22mnode_modules/express/lib/router/index.js\u001b[2m:521:19)\u001b[22m\n      \u001b[2mat Object.post (\u001b[22msrc/routes/adminDashboard.js\u001b[2m:45:8)\u001b[22m\n      \u001b[2mat Object.require (\u001b[22m\u001b[0m\u001b[36msrc/routes/__tests__/adminDashboard.test.js\u001b[39m\u001b[0m\u001b[2m:8:30)\u001b[22m\n","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\routes\\__tests__\\adminDashboard.test.js","startTime":1772229540372,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1772229540372,"message":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    Route.post() requires a callback function but got a [object Undefined]\n\n    \u001b[0m \u001b[90m 25 |\u001b[39m \u001b[90m * @body    {teacherId, studentIds[], schoolId?}\u001b[39m\n     \u001b[90m 26 |\u001b[39m \u001b[90m */\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 27 |\u001b[39m router\u001b[33m.\u001b[39mpost(\u001b[32m'/assign-teacher'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 28 |\u001b[39m   requireRole([\u001b[32m'admin'\u001b[39m])\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m   rateLimiter\u001b[33m.\u001b[39madminLimiter\u001b[33m,\u001b[39m\n     \u001b[90m 30 |\u001b[39m   validateTeacherAssignment\u001b[33m,\u001b[39m\u001b[0m\n\n      \u001b[2mat Route.<computed> [as post] (\u001b[22mnode_modules/express/lib/router/route.js\u001b[2m:216:15)\u001b[22m\n      \u001b[2mat Function.proto.<computed> [as post] (\u001b[22mnode_modules/express/lib/router/index.js\u001b[2m:521:19)\u001b[22m\n      \u001b[2mat Object.post (\u001b[22msrc/routes/teacherAssignment.js\u001b[2m:27:8)\u001b[22m\n      \u001b[2mat Object.require (\u001b[22msrc/app.js\u001b[2m:170:33)\u001b[22m\n      \u001b[2mat Object.require (\u001b[22m\u001b[0m\u001b[36msrc/controllers/__tests__/userAuthController.test.js\u001b[39m\u001b[0m\u001b[2m:8:13)\u001b[22m\n","name":"C:\\Users\\HP\\Desktop\\PERSONAL PROJECTS\\EduConnect-Backend\\src\\controllers\\__tests__\\userAuthController.test.js","startTime":1772229540372,"status":"failed","summary":""}],"wasInterrupted":false}
